<html>
<head><title>Commit {{ sha }}</title></head>
<body>
  <h1>git show {{ sha }}</h1>
  {% if follows %}
    <p><em>{{ follows.raw }}</em></p>
  {% end %}
  {% if follows or precedes %}
    <p>
      {% if follows and follows.count > 0 %}
        <strong>Follows:</strong>
        {{ follows.base_tag }}
        (<a href="/commit/{{ follows.tag_sha }}">{{ follows.tag_sha[:7] }}</a>)
      {% end %}
      {% if precedes %}
        <strong>Precedes:</strong>
        {{ precedes.base_tag }}
        (<a href="/commit/{{ precedes.tag_sha }}">{{ precedes.tag_sha[:7] }}</a>)
      {% end %}
    </p>
  {% end %}
  {% if commit %}
    <form action="/commit/{{ commit['sha'] }}/update" method="post">
      <label for="issue">Issue:</label>
      <input type="text" name="issue" value="{{ commit['issue'] }}" />

      <label for="release">Release:</label>
      <input type="text" name="release" value="{{ commit['release'] }}" />

      <button type="submit">Update</button>
    </form>
  {% else %}
    <p><em>No spreadsheet data available for this commit.</em></p>
  {% end %}
  <pre>{{ output }}</pre>

  <a href="/#sha-{{ sha[:7] }}">Back</a>

</body>
</html>
